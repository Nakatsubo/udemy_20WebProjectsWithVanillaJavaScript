{"version":3,"file":"assets/js/main.js","mappings":"yBAEA,IAAMA,EAAUC,SAASC,eAAe,UAClCC,EAAUF,SAASC,eAAe,UAElCE,GADUH,SAASC,eAAe,UACxBD,SAASC,eAAe,UAClCG,EAAgBJ,SAASC,eAAe,kBACxCI,EAAgBL,SAASC,eAAe,gBA0F9CC,EAAOI,iBAAiB,UAvFxB,SAAoBC,GAElBA,EAAEC,iBAGFH,EAAcI,UAAY,GAG1B,IAAMC,EAAOX,EAAOY,MAKhBD,EAAKE,OACPC,MAAM,wDAAD,OAAyDH,IAC3DI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAEJb,EAAcK,UAAd,kCAAqDC,EAArD,WAEmB,OAAfO,EAAKC,MACPd,EAAcK,UAAd,iDAEAS,MAAMT,UAAYQ,EAAKC,MACpBC,KAAI,SAAAC,GAAI,8EAEOA,EAAKC,aAFZ,kBAEkCD,EAAKE,QAFvC,qEAGiCF,EAAKG,OAHtC,qCAIGH,EAAKE,QAJR,wEAONE,KAAK,IAGZzB,EAAOY,MAAQ,MAGnBc,MAAM,iCAoDVtB,EAAQG,iBAAiB,SAAS,SAAAC,GAChC,IAhDmBmB,EAgDbC,EAAWpB,EAAEqB,KAAKC,MAAK,SAAAC,GAE3B,QAAIA,EAAKC,WACAD,EAAKC,UAAUC,SAAS,gBAO/BL,IA1DeD,EA2DFC,EAASM,aAAa,eA1DvCpB,MAAM,wDAAD,OAAyDa,IAC7DZ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAoB,IASR,SAAoBd,GAGlB,IAFA,IAAMe,EAAc,GAEXC,EAAI,EAAGA,GAAK,IACfhB,EAAK,gBAAD,OAAiBgB,IADFA,GAAK,EAE1BD,EAAYE,KAAZ,UACKjB,EAAK,gBAAD,OAAiBgB,IAD1B,cACoChB,EAAK,aAAD,OAAcgB,MAO1D/B,EAAcI,UAAd,qDAEUW,EAAKE,QAFf,kCAGgBF,EAAKC,aAHrB,kBAG2CD,EAAKE,QAHhD,+DAKQF,EAAKkB,YAAL,aAAyBlB,EAAKkB,YAA9B,QAAkD,GAL1D,qBAMQlB,EAAKmB,QAAL,aAAqBnB,EAAKmB,QAA1B,QAA0C,GANlD,gEASWnB,EAAKoB,gBAThB,sEAYUL,EAAYhB,KAAI,SAAAsB,GAAG,oBAAWA,EAAX,YAAuBjB,KAAK,IAZzD,iDAlBEkB,CAFaR,EAAKhB,MAAM,W","sources":["webpack:///./src/assets/js/index.js"],"sourcesContent":["import  '../scss/style.scss';\n\nconst search  = document.getElementById('search'),\n      submit  = document.getElementById('submit'),\n      random  = document.getElementById('random'),\n      mealsEL = document.getElementById('meals'),\n      resultHeading = document.getElementById('result-heading'),\n      single_mealEL = document.getElementById('single-meals');\n\n// Search meal and fetch from API\nfunction searchMeal(e) {\n  // event.preventDefaultメソッドは、submitイベントの発生元であるフォームが持つデフォルトの動作をキャンセルするメソッドです。\n  e.preventDefault();\n\n  // Clear single meal\n  single_mealEL.innerHTML = '';\n\n  // Get search term\n  const term = search.value;\n  // console.log(term);\n\n  // Check for empty\n  // trim() メソッド -> 文字列の両端の空白を削除します。\n  if (term.trim()) {\n    fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${term}`)\n      .then(res => res.json())\n      .then(data => {\n        // console.log(data);\n        resultHeading.innerHTML = `<h2>Search results for '${term}':</h2>`;\n\n        if (data.meals === null) {\n          resultHeading.innerHTML = `<p>There are no search results. Try again!</p>`;\n        } else {\n          meals.innerHTML = data.meals\n            .map(meal => `\n              <div class=\"meal\">\n                <img src=\"${meal.strMealThumb}\" alt=\"${meal.strMeal}\" />\n                <div class=\"meal-info\" data-mealId=\"${meal.idMeal}\">\n                  <h3>${meal.strMeal}</h3>\n                </div>\n              </div>\n            `).join('');\n        }\n        // Clear search text\n        search.value = '';\n      })\n  } else {\n    alert('Please enter a search term');\n  }\n}\n\n// Fetch meal by ID\nfunction getMealById(mealID) {\n  fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${mealID}`)\n  .then(res => res.json())\n  .then(date => {\n    // console.log(date);\n    const meal = date.meals[0];\n\n    addMealDOM(meal);\n  })\n}\n\n// Add meal to DOM\nfunction addMealDOM(meal) {\n  const ingredients = [];\n\n  for (let i = 1; i <= 20; i += 1) {\n    if (meal[`strIngredient${i}`]) {\n      ingredients.push(\n        `${meal[`strIngredient${i}`]} - ${meal[`strMeasure${i}`]}`\n      );\n    } else {\n      break;\n    }\n  }\n\n  single_mealEL.innerHTML = `\n    <div class=\"single-meal\">\n      <h1>${meal.strMeal}</h1>\n      <img src=\"${meal.strMealThumb}\" alt=\"${meal.strMeal}\" />\n      <div class=\"single-meal-info\">\n        ${meal.strCategory ? `<p>${meal.strCategory}</p>` : ''}\n        ${meal.strArea ? `<p>${meal.strArea}</p>` : ''}\n      </div>\n      <div class=\"main\">\n        <p>${meal.strInstructions}</p>\n        <h2>Ingredients<h2>\n        <ul>\n          ${ingredients.map(ing => `<li>${ing}</li>`).join('')}\n        </ul>\n      </div>\n    </div>\n  `;\n}\n\n// Event Listeners\nsubmit.addEventListener('submit', searchMeal);\n\nmealsEL.addEventListener('click', e => {\n  const mealInfo = e.path.find(item  => {\n    // console.log(item);\n    if (item.classList) {\n      return item.classList.contains('meal-info');\n    } else {\n      return false;\n    }\n  })\n\n  // console.log(mealInfo);\n  if (mealInfo) {\n    const mealId = mealInfo.getAttribute('data-mealId');\n    // console.log(mealId);\n\n    getMealById(mealId);\n  }\n});"],"names":["search","document","getElementById","submit","mealsEL","resultHeading","single_mealEL","addEventListener","e","preventDefault","innerHTML","term","value","trim","fetch","then","res","json","data","meals","map","meal","strMealThumb","strMeal","idMeal","join","alert","mealID","mealInfo","path","find","item","classList","contains","getAttribute","date","ingredients","i","push","strCategory","strArea","strInstructions","ing","addMealDOM"],"sourceRoot":""}